<<<<<<< HEAD
<!DOCTYPE html>
<html lang="ko">
 <head>
  <meta charset="utf-8" />
  <title> indicator가 세로방향인 onePage </title>
  <style type="text/css">
	@import url(http://fonts.googleapis.com/earlyaccess/nanumgothic.css);	
	body, ul, h1{margin:0px;padding:0px}
	body{font-family:"Nanum Gothic";font-size:12px}
    body, html {-webkit-overflow-scrolling:touch}
	ul{list-style:none}
	a{text-decoration:none}

	.area{width:100%;height:100%}
	#header{position:fixed;left:0px;right:0px;top:0px;height:50px;background:#aaa}
	
	#header h1, #header #gnb, #header #gnb ul li{display:inline-block;}
    #header {font-size:0}
	#header h1{width:20%; font-size:32px; margin-top:8px; vertical-align: middle;}
	#header #gnb{width:80%; vertical-align: middle;}
	#header #gnb ul {font-size:0}
	#header #gnb ul li{display:inline-block; width:25%; vertical-align: middle;}
	#header #gnb ul li a{display:inline-block; text-align:center; font-size:14px;}

	#snb{position:fixed;right:30px;top:50%;margin-top:-110px;width:100px;background:#aaa;}
	#snb ul{padding-top:10px}
	#snb ul li{height:20px;line-height:20px;padding-bottom:10px}
	#snb ul li a{display:block;}
	#snb ul li a span{display:inline-block;vertical-align:middle}
	#snb ul li a .txt{width:75px;padding-right:5px;text-align:right;color:#000}
	#snb ul li.on a .txt{color:red}
	#snb ul li a .icon{width:18px;height:18px;border:1px solid #000;background:#000}
	#snb ul li.on a .icon{background:yellow}

	#content{padding-top:50px}
	#content article{min-height:500px;font-size:100px;text-align:center}
	#content #cnt0{background:aqua}
	#content #cnt1{background:pink}
	#content #cnt2{background:yellow}
	#content #cnt3{background:coral}
	#content #cnt4{background:skyblue}
	#content #cnt5{background:green}
	#content #cnt6{background:blue}
	#footer{height:100px;background:black}
  </style>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="  crossorigin="anonymous"></script>  

 </head>

 <body>
	<div id="wrap">
		<header id="header">
			<div class="area">
				<h1>로고</h1>
				<nav id="gnb">
					<ul>
						<li><a href="#">주메뉴1</a></li>
						<li><a href="#">주메뉴2</a></li>
						<li><a href="#">주메뉴3</a></li>
						<li><a href="#">주메뉴4</a></li>
					</ul>
				</nav>
			</div>
		</header>
		<nav id="snb">
			<ul>
				<li class="on"><a href="#cnt0"><span class="txt">서브메뉴0</span><span class="icon"></span></a></li>
				<li><a href="#cnt1"><span class="txt">서브메뉴1</span><span class="icon"></span></a></li>
				<li><a href="#cnt2"><span class="txt">서브메뉴2</span><span class="icon"></span></a></li>
				<li><a href="#cnt3"><span class="txt">서브메뉴3</span><span class="icon"></span></a></li>
				<li><a href="#cnt4"><span class="txt">서브메뉴4</span><span class="icon"></span></a></li>
				<li><a href="#cnt5"><span class="txt">서브메뉴5</span><span class="icon"></span></a></li>
				<li><a href="#cnt6"><span class="txt">서브메뉴6</span><span class="icon"></span></a></li>
			</ul>
		</nav>
		<section id="content">
			<article id="cnt0">본문내용0</article>
			<article id="cnt1">본문내용1</article>
			<article id="cnt2">본문내용2</article>
			<article id="cnt3">본문내용3</article>
			<article id="cnt4">본문내용4</article>
			<article id="cnt5">본문내용5</article>
			<article id="cnt6">본문내용6</article>
		</section>
		<footer id="footer"></footer>
	</div>
    <script>
        function getElementIndex(node) {
        
         var nodeArr = Array.from(node.parentNode.childNodes).filter(child => child.nodeType == 1)
          return Array.prototype.indexOf.call(nodeArr, node);
          //childNodes 에는 text 도 포함됨
        }      
        
        function move(element) {
          var top = 0
          function frame() {
              top++  // update parameters
              element.style.top = top + 'px' // show frame
              if (top == 100)  clearInterval(id)
          }
          var id = setInterval(frame, 10) // draw every 10ms
        }
        
          /**
            * Animate scrolling to a target position
            * @param {string} _selector Target selector
            * @param {number} _duration (Option) Duration time(ms) (Default. 800ms)
            * @param {number} _adjust (Option) Adjustment value of position
            */
            animteScrollTo = function(_selector, _duration, _adjust, _) {
            const targetEle = document.querySelector(_selector);
            if (!targetEle) return;
              console.log(targetEle);
            // - Get current &amp; target positions
            const scrollEle = document.documentElement || window.scrollingElement,
            currentY = scrollEle.scrollTop,
            targetY = targetEle.offsetTop - (_adjust || 0);
            animateScrollTo(currentY, targetY, _duration);

            // - Animate and scroll to target position
            function animateScrollTo(_startY, _endY, _duration) {
                _duration = _duration ? _duration : 600;
                const unitY = (targetY - currentY) / _duration;
                const startTime = new Date().getTime();
                const endTime = new Date().getTime() + _duration;

                const scrollTo = function() {
                let now = new Date().getTime();
                let passed = now - startTime;
                if (now <= endTime) {
                    scrollEle.scrollTop = currentY + (unitY * passed);
                    requestAnimationFrame(scrollTo);
                }
                else {
                    console.log('End off.')
                }
                };
                requestAnimationFrame(scrollTo);
            };
            };

      function scrollDown () {
        console.log("a");
      }
        function scrollingEvent () {
          var menu = document.querySelectorAll("#snb ul li"),
          cnt = document.querySelectorAll("#content article"),
          header = document.querySelector("#header");
          var total=cnt.length,
          cntPosY;
          cntPosY=new Array(total+1);
          for (var i=0; i<total; i++) {          
              cntPosY[i]=cnt[i].getBoundingClientRect().top-header.clientHeight;
          }
          cntPosY[i]=document.clientHeight-window.clientHeight;		//마지막 컨텐츠의 높이가 낮아 스크롤바가 가장 마지막에 위치한 경우도 변수에 저장
          
          window.addEventListener("wheel", scrollMove);
          function scrollMove () {
              var scrollY=window.scrollY
              for (var i=0; i<=total; i++) {
                  menu.forEach(function(menuElement) {
                    menuElement.classList.remove("on")
                  })
                  
                  if (scrollY>=cntPosY[i]) menu[i].classList.add("on");
                  else if (scrollY==cntPosY[total]) menu[i].classList.add("on")
              } 
          }
  
          //3) 마우스휠 움직이기
          cnt.forEach(function (cntElement) {
            cntElement.addEventListener("wheel",function  (e) {
            var wheelNum=e.wheelDelta || e.detail*-1;
            var thisIdx= getElementIndex(e.target);     
            //아래로 이동(음수), 위로 이동(양수)
            if (wheelNum<0 && thisIdx<total-1) {      
                animteScrollTo("#cnt"+[thisIdx+1],null, header.clientHeight);
            }
            else if (wheelNum>0 && thisIdx>0) {
                animteScrollTo("#cnt"+[thisIdx-1],null, header.clientHeight);
            }
            
            
        })        
  
        })
    }
    scrollingEvent ()
  
    </script>
=======
<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
  <style type="text/css">
  button {background:none; border:none; cursor:pointer}
  * {margin:0; padding:0}
  li {list-style:none}
  .drop-menu-wrap {position:relative;margin-top:400px}
  .btn-border-gray {padding:10px; width:100%;  border: 1px solid #ccc; background-color: #fff; font-weight:400; color: #111;}
  .drop-menu-wrap {position:relative; width:340px; margin:500px auto;}
.sel-drop-menu {position:absolute; bottom:0px; left:0; width:100%; max-height:0;
overflow: hidden; text-align: center; box-sizing: border-box; background:#fff;}
.sel-drop-menu .btn-xl {margin-bottom:0; border-bottom:0; }
.sel-drop-menu li:last-child .btn {border-bottom:1px solid #ccc}
.sel-drop-menu .btn-xl:hover:not(.on) {background-color:#feeee2}

.sel-drop-menu.on {max-height:200px;}
.sel-drop-menu.fade {max-height:0; }

.sel-drop-menu,
.sel-drop-menu.on {transition:all 0.35s ease-in;}
.sel-drop-menu.fade {transition:all 0.35s ease-out;}
  </style>
  <script
  src="https://code.jquery.com/jquery-3.6.0.js"
  integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
  crossorigin="anonymous"></script>
  <script type="text/javascript">
  /* dropMenuShowHide()
	1) 매개변수 설명 : 클릭 버튼, 콜백1(열릴 때 실행되는 콜백 함수), 콜백2(닫힐때 실행되는 콜백함수)
	2) 사용 예시 :
	dropMenuShowHide ($('버튼 id/class 명'), 함수명1, 함수명2)
	*/
	$(document).ready(function() {
			dropMenuShowHide ($(".drop-btn"))
	})
	function dropMenuShowHide (clickBtn, showCallback , hideCallback) {
		var btn = clickBtn;
		var menu = $('.sel-drop-menu')
		var btnMenu = menu.find('.btn-xl')

		btn.on("click",function(e){
				if(menu.hasClass("on")) {
						menuClose ()
				} else {
						menuOpen ()
				}
		})

		btnMenu.on("click",function(e){
			clickResultApply (e)
			menuClose ()

		})

		function menuClose () {
				menu.addClass("fade")
				menu.removeClass("on")
				if(hideCallback) hideCallback()
		}
		function menuOpen () {
				menu.addClass("on")
				menu.removeClass("fade")
				if(showCallback) showCallback()
		}
		function clickResultApply (e) {
			var applyTxt = e.target.innerText
			btn.text(applyTxt)
		}
	}

  </script>
 </head>
 <body>
  <div class="btn-group col drop-menu-wrap" style="margin-bottom:0">
	<a href="#" class="btn-xl btn-border-gray drop-btn">다른 문의사항이 있습니다.</a>
	<div class="sel-drop-menu">
		<ul>
				<li><button type="button" class="btn-xl btn-border-gray">올해 보험료 견적을 받고 싶습니다.</button></li>
				<li><button type="button" class="btn-xl btn-border-gray">온라인 가입 중 문제가 있습니다.</button></li>
				<li><button type="button" class="btn-xl btn-border-gray">상담사 연결이 필요합니다.</button></li>
				<li><button type="button" class="btn-xl btn-border-gray on">다른 문의사항이 있습니다.</button></li>
		</ul>
	</div>
>>>>>>> 4ba872e30b6b4d639982d587484e6fc3b8acf0be
 </body>
</html>
